import React, { Component } from 'react'
import DamageBreakdown from './components/DamageBreakdown.js'
import DamagePerSecond from './components/DamagePerSecond.js'
import DamagePerExecute from './components/DamagePerExecute.js'
import TimeSpent from './components/TimeSpent.js'
import Abilities from './components/Abilities/Abilities.js'
import PlayerResults from './components/PlayerResults.js'
import Highcharts from 'react-highcharts'
import { Level } from 'reactbulma'
import './App.css'

class App extends Component {
  renderProfiles() {
    const data = (window && window.actor_data) || testData()
    const profiles = data.map(profile => {
      return (
        <div>
          <Level>
            <PlayerResults data={profile} />
          </Level>
          <Level>
            <Level.Left>
              <DamageBreakdown data={profile} />
            </Level.Left>
            <Level.Right>
              <DamagePerSecond data={profile} />
            </Level.Right>
          </Level>
          <Level>
            <Level.Left>
              <DamagePerExecute data={profile} />
            </Level.Left>
            <Level.Right>
              <TimeSpent data={profile} />
            </Level.Right>
          </Level>
          <Level>
            <Abilities data={profile} />
          </Level>
        </div>
      )
    })
    return (
      <div>
        {profiles}
      </div>
    )

  }
  render() {
    return (
      <div className="App">
        { this.renderProfiles() }
      </div>
    )
  }
}

export default App;

function testData() {

 return [{"name": "qqzTngUFay", "level": 70, "race": "ENEMY", "combatLength": 300.0, "actions": {}}, {"name": "EeTtBcgJaT", "level": 70, "race": "HIGHLANDER", "combatLength": 300.0, "actions": {"RagingStrikesCast": {"casts": [1519374275.22425, 1519374355.83425, 1519374436.44425, 1519374517.05425], "execute_time": [{"time": 1519374275.22425, "delta": 0.75}, {"time": 1519374355.83425, "delta": 0.75}, {"time": 1519374436.44425, "delta": 0.75}, {"time": 1519374517.05425, "delta": 0.75}], "damage": [{"time": 1519374275.22425, "damage": 0}, {"time": 1519374355.83425, "damage": 0}, {"time": 1519374436.44425, "damage": 0}, {"time": 1519374517.05425, "damage": 0}], "critical_hits": [], "direct_hits": [], "critical_direct_hits": []}, "StraightShotCast": {"casts": [1519374275.97425, 1519374309.85425, 1519374341.31425, 1519374375.94425, 1519374407.40425, 1519374439.61425, 1519374471.07425, 1519374502.53425, 1519374539.58425, 1519374571.04425], "execute_time": [{"time": 1519374275.97425, "delta": 2.42}, {"time": 1519374309.85425, "delta": 2.42}, {"time": 1519374341.31425, "delta": 2.42}, {"time": 1519374375.94425, "delta": 2.42}, {"time": 1519374407.40425, "delta": 2.42}, {"time": 1519374439.61425, "delta": 2.42}, {"time": 1519374471.07425, "delta": 2.42}, {"time": 1519374502.53425, "delta": 2.42}, {"time": 1519374539.58425, "delta": 2.42}, {"time": 1519374571.04425, "delta": 2.42}], "damage": [{"time": 1519374275.97425, "damage": 3824}, {"time": 1519374309.85425, "damage": 3500}, {"time": 1519374341.31425, "damage": 3442}, {"time": 1519374375.94425, "damage": 2752}, {"time": 1519374407.40425, "damage": 3010}, {"time": 1519374439.61425, "damage": 3138}, {"time": 1519374471.07425, "damage": 2953}, {"time": 1519374502.53425, "damage": 4221}, {"time": 1519374539.58425, "damage": 4468}, {"time": 1519374571.04425, "damage": 2854}], "critical_hits": [1519374502.53425, 1519374539.58425], "direct_hits": [1519374275.97425, 1519374309.85425, 1519374341.31425], "critical_direct_hits": []}, "WindbiteCast": {"casts": [1519374278.39425], "execute_time": [{"time": 1519374278.39425, "delta": 2.42}], "damage": [{"time": 1519374278.39425, "damage": 3471}], "critical_hits": [], "direct_hits": [1519374278.39425], "critical_direct_hits": []}, "VenomousBiteCast": {"casts": [1519374280.81425], "execute_time": [{"time": 1519374280.81425, "delta": 2.42}], "damage": [{"time": 1519374280.81425, "damage": 3393}], "critical_hits": [], "direct_hits": [1519374280.81425], "critical_direct_hits": []}, "SidewinderCast": {"casts": [1519374283.23425, 1519374343.73425, 1519374404.98425, 1519374466.23425, 1519374527.48425], "execute_time": [{"time": 1519374283.23425, "delta": 2.42}, {"time": 1519374343.73425, "delta": 2.42}, {"time": 1519374404.98425, "delta": 2.42}, {"time": 1519374466.23425, "delta": 2.42}, {"time": 1519374527.48425, "delta": 2.42}], "damage": [{"time": 1519374283.23425, "damage": 7531}, {"time": 1519374343.73425, "damage": 6786}, {"time": 1519374404.98425, "damage": 6812}, {"time": 1519374466.23425, "damage": 5368}, {"time": 1519374527.48425, "damage": 5982}], "critical_hits": [], "direct_hits": [1519374283.23425, 1519374343.73425, 1519374404.98425], "critical_direct_hits": []}, "HeavyShotCast": {"casts": [1519374285.65425, 1519374290.49425, 1519374295.33425, 1519374297.75425, 1519374300.17425, 1519374302.59425, 1519374312.27425, 1519374314.69425, 1519374317.11425, 1519374319.53425, 1519374324.37425, 1519374326.79425, 1519374331.63425, 1519374334.05425, 1519374338.89425, 1519374346.15425, 1519374348.57425, 1519374350.99425, 1519374353.41425, 1519374356.58425, 1519374359.00425, 1519374366.26425, 1519374368.68425, 1519374371.10425, 1519374378.36425, 1519374380.78425, 1519374383.20425, 1519374388.04425, 1519374395.30425, 1519374397.72425, 1519374400.14425, 1519374402.56425, 1519374409.82425, 1519374412.24425, 1519374414.66425, 1519374419.50425, 1519374424.34425, 1519374426.76425, 1519374429.18425, 1519374434.02425, 1519374442.03425, 1519374444.45425, 1519374451.71425, 1519374456.55425, 1519374458.97425, 1519374463.81425, 1519374468.65425, 1519374473.49425, 1519374475.91425, 1519374480.75425, 1519374483.17425, 1519374485.59425, 1519374488.01425, 1519374490.43425, 1519374492.85425, 1519374495.27425, 1519374497.69425, 1519374500.11425, 1519374504.95425, 1519374509.79425, 1519374512.21425, 1519374517.80425, 1519374520.22425, 1519374522.64425, 1519374525.06425, 1519374532.32425, 1519374542.00425, 1519374546.84425, 1519374549.26425, 1519374551.68425, 1519374556.52425, 1519374558.94425, 1519374561.36425, 1519374566.20425, 1519374568.62425, 1519374573.46425], "execute_time": [{"time": 1519374285.65425, "delta": 2.42}, {"time": 1519374290.49425, "delta": 2.42}, {"time": 1519374295.33425, "delta": 2.42}, {"time": 1519374297.75425, "delta": 2.42}, {"time": 1519374300.17425, "delta": 2.42}, {"time": 1519374302.59425, "delta": 2.42}, {"time": 1519374312.27425, "delta": 2.42}, {"time": 1519374314.69425, "delta": 2.42}, {"time": 1519374317.11425, "delta": 2.42}, {"time": 1519374319.53425, "delta": 2.42}, {"time": 1519374324.37425, "delta": 2.42}, {"time": 1519374326.79425, "delta": 2.42}, {"time": 1519374331.63425, "delta": 2.42}, {"time": 1519374334.05425, "delta": 2.42}, {"time": 1519374338.89425, "delta": 2.42}, {"time": 1519374346.15425, "delta": 2.42}, {"time": 1519374348.57425, "delta": 2.42}, {"time": 1519374350.99425, "delta": 2.42}, {"time": 1519374353.41425, "delta": 2.42}, {"time": 1519374356.58425, "delta": 2.42}, {"time": 1519374359.00425, "delta": 2.42}, {"time": 1519374366.26425, "delta": 2.42}, {"time": 1519374368.68425, "delta": 2.42}, {"time": 1519374371.10425, "delta": 2.42}, {"time": 1519374378.36425, "delta": 2.42}, {"time": 1519374380.78425, "delta": 2.42}, {"time": 1519374383.20425, "delta": 2.42}, {"time": 1519374388.04425, "delta": 2.42}, {"time": 1519374395.30425, "delta": 2.42}, {"time": 1519374397.72425, "delta": 2.42}, {"time": 1519374400.14425, "delta": 2.42}, {"time": 1519374402.56425, "delta": 2.42}, {"time": 1519374409.82425, "delta": 2.42}, {"time": 1519374412.24425, "delta": 2.42}, {"time": 1519374414.66425, "delta": 2.42}, {"time": 1519374419.50425, "delta": 2.42}, {"time": 1519374424.34425, "delta": 2.42}, {"time": 1519374426.76425, "delta": 2.42}, {"time": 1519374429.18425, "delta": 2.42}, {"time": 1519374434.02425, "delta": 2.42}, {"time": 1519374442.03425, "delta": 2.42}, {"time": 1519374444.45425, "delta": 2.42}, {"time": 1519374451.71425, "delta": 2.42}, {"time": 1519374456.55425, "delta": 2.42}, {"time": 1519374458.97425, "delta": 2.42}, {"time": 1519374463.81425, "delta": 2.42}, {"time": 1519374468.65425, "delta": 2.42}, {"time": 1519374473.49425, "delta": 2.42}, {"time": 1519374475.91425, "delta": 2.42}, {"time": 1519374480.75425, "delta": 2.42}, {"time": 1519374483.17425, "delta": 2.42}, {"time": 1519374485.59425, "delta": 2.42}, {"time": 1519374488.01425, "delta": 2.42}, {"time": 1519374490.43425, "delta": 2.42}, {"time": 1519374492.85425, "delta": 2.42}, {"time": 1519374495.27425, "delta": 2.42}, {"time": 1519374497.69425, "delta": 2.42}, {"time": 1519374500.11425, "delta": 2.42}, {"time": 1519374504.95425, "delta": 2.42}, {"time": 1519374509.79425, "delta": 2.42}, {"time": 1519374512.21425, "delta": 2.42}, {"time": 1519374517.80425, "delta": 2.42}, {"time": 1519374520.22425, "delta": 2.42}, {"time": 1519374522.64425, "delta": 2.42}, {"time": 1519374525.06425, "delta": 2.42}, {"time": 1519374532.32425, "delta": 2.42}, {"time": 1519374542.00425, "delta": 2.42}, {"time": 1519374546.84425, "delta": 2.42}, {"time": 1519374549.26425, "delta": 2.42}, {"time": 1519374551.68425, "delta": 2.42}, {"time": 1519374556.52425, "delta": 2.42}, {"time": 1519374558.94425, "delta": 2.42}, {"time": 1519374561.36425, "delta": 2.42}, {"time": 1519374566.20425, "delta": 2.42}, {"time": 1519374568.62425, "delta": 2.42}, {"time": 1519374573.46425, "delta": 2.42}], "damage": [{"time": 1519374285.65425, "damage": 5174}, {"time": 1519374290.49425, "damage": 4046}, {"time": 1519374295.33425, "damage": 3993}, {"time": 1519374297.75425, "damage": 5869}, {"time": 1519374300.17425, "damage": 3085}, {"time": 1519374302.59425, "damage": 3012}, {"time": 1519374312.27425, "damage": 3033}, {"time": 1519374314.69425, "damage": 4876}, {"time": 1519374317.11425, "damage": 3690}, {"time": 1519374319.53425, "damage": 4646}, {"time": 1519374324.37425, "damage": 3068}, {"time": 1519374326.79425, "damage": 3151}, {"time": 1519374331.63425, "damage": 3210}, {"time": 1519374334.05425, "damage": 3068}, {"time": 1519374338.89425, "damage": 2935}, {"time": 1519374346.15425, "damage": 3171}, {"time": 1519374348.57425, "damage": 3019}, {"time": 1519374350.99425, "damage": 6196}, {"time": 1519374353.41425, "damage": 2998}, {"time": 1519374356.58425, "damage": 3248}, {"time": 1519374359.00425, "damage": 3399}, {"time": 1519374366.26425, "damage": 4032}, {"time": 1519374368.68425, "damage": 3220}, {"time": 1519374371.10425, "damage": 5111}, {"time": 1519374378.36425, "damage": 3054}, {"time": 1519374380.78425, "damage": 3043}, {"time": 1519374383.20425, "damage": 3231}, {"time": 1519374388.04425, "damage": 3205}, {"time": 1519374395.30425, "damage": 3037}, {"time": 1519374397.72425, "damage": 4005}, {"time": 1519374400.14425, "damage": 3224}, {"time": 1519374402.56425, "damage": 5866}, {"time": 1519374409.82425, "damage": 3102}, {"time": 1519374412.24425, "damage": 5804}, {"time": 1519374414.66425, "damage": 3073}, {"time": 1519374419.50425, "damage": 3763}, {"time": 1519374424.34425, "damage": 3086}, {"time": 1519374426.76425, "damage": 3054}, {"time": 1519374429.18425, "damage": 3097}, {"time": 1519374434.02425, "damage": 6144}, {"time": 1519374442.03425, "damage": 5040}, {"time": 1519374444.45425, "damage": 4385}, {"time": 1519374451.71425, "damage": 5425}, {"time": 1519374456.55425, "damage": 4580}, {"time": 1519374458.97425, "damage": 3159}, {"time": 1519374463.81425, "damage": 3938}, {"time": 1519374468.65425, "damage": 4590}, {"time": 1519374473.49425, "damage": 3088}, {"time": 1519374475.91425, "damage": 3162}, {"time": 1519374480.75425, "damage": 3142}, {"time": 1519374483.17425, "damage": 2931}, {"time": 1519374485.59425, "damage": 5036}, {"time": 1519374488.01425, "damage": 3805}, {"time": 1519374490.43425, "damage": 6042}, {"time": 1519374492.85425, "damage": 3054}, {"time": 1519374495.27425, "damage": 2949}, {"time": 1519374497.69425, "damage": 4688}, {"time": 1519374500.11425, "damage": 2948}, {"time": 1519374504.95425, "damage": 3124}, {"time": 1519374509.79425, "damage": 3148}, {"time": 1519374512.21425, "damage": 3226}, {"time": 1519374517.80425, "damage": 4033}, {"time": 1519374520.22425, "damage": 3379}, {"time": 1519374522.64425, "damage": 3275}, {"time": 1519374525.06425, "damage": 3389}, {"time": 1519374532.32425, "damage": 5505}, {"time": 1519374542.00425, "damage": 3795}, {"time": 1519374546.84425, "damage": 4879}, {"time": 1519374549.26425, "damage": 3856}, {"time": 1519374551.68425, "damage": 3052}, {"time": 1519374556.52425, "damage": 3106}, {"time": 1519374558.94425, "damage": 3896}, {"time": 1519374561.36425, "damage": 3054}, {"time": 1519374566.20425, "damage": 6256}, {"time": 1519374568.62425, "damage": 6250}, {"time": 1519374573.46425, "damage": 2998}], "critical_hits": [1519374285.65425, 1519374297.75425, 1519374314.69425, 1519374319.53425, 1519374350.99425, 1519374371.10425, 1519374402.56425, 1519374412.24425, 1519374434.02425, 1519374442.03425, 1519374451.71425, 1519374456.55425, 1519374468.65425, 1519374485.59425, 1519374490.43425, 1519374497.69425, 1519374532.32425, 1519374546.84425, 1519374566.20425, 1519374568.62425], "direct_hits": [1519374290.49425, 1519374295.33425, 1519374297.75425, 1519374317.11425, 1519374350.99425, 1519374366.26425, 1519374397.72425, 1519374402.56425, 1519374412.24425, 1519374419.50425, 1519374434.02425, 1519374444.45425, 1519374463.81425, 1519374488.01425, 1519374490.43425, 1519374517.80425, 1519374542.00425, 1519374549.26425, 1519374558.94425, 1519374566.20425, 1519374568.62425], "critical_direct_hits": [1519374297.75425, 1519374350.99425, 1519374402.56425, 1519374412.24425, 1519374434.02425, 1519374490.43425, 1519374566.20425, 1519374568.62425]}, "RefulgentArrowCast": {"casts": [1519374288.07425, 1519374292.91425, 1519374305.01425, 1519374321.95425, 1519374329.21425, 1519374361.42425, 1519374373.52425, 1519374385.62425, 1519374390.46425, 1519374417.08425, 1519374431.60425, 1519374437.19425, 1519374446.87425, 1519374454.13425, 1519374461.39425, 1519374514.63425, 1519374529.90425, 1519374537.16425, 1519374544.42425, 1519374554.10425], "execute_time": [{"time": 1519374288.07425, "delta": 2.42}, {"time": 1519374292.91425, "delta": 2.42}, {"time": 1519374305.01425, "delta": 2.42}, {"time": 1519374321.95425, "delta": 2.42}, {"time": 1519374329.21425, "delta": 2.42}, {"time": 1519374361.42425, "delta": 2.42}, {"time": 1519374373.52425, "delta": 2.42}, {"time": 1519374385.62425, "delta": 2.42}, {"time": 1519374390.46425, "delta": 2.42}, {"time": 1519374417.08425, "delta": 2.42}, {"time": 1519374431.60425, "delta": 2.42}, {"time": 1519374437.19425, "delta": 2.42}, {"time": 1519374446.87425, "delta": 2.42}, {"time": 1519374454.13425, "delta": 2.42}, {"time": 1519374461.39425, "delta": 2.42}, {"time": 1519374514.63425, "delta": 2.42}, {"time": 1519374529.90425, "delta": 2.42}, {"time": 1519374537.16425, "delta": 2.42}, {"time": 1519374544.42425, "delta": 2.42}, {"time": 1519374554.10425, "delta": 2.42}], "damage": [{"time": 1519374288.07425, "damage": 6857}, {"time": 1519374292.91425, "damage": 8900}, {"time": 1519374305.01425, "damage": 6423}, {"time": 1519374321.95425, "damage": 7358}, {"time": 1519374329.21425, "damage": 6162}, {"time": 1519374361.42425, "damage": 8728}, {"time": 1519374373.52425, "damage": 6501}, {"time": 1519374385.62425, "damage": 7827}, {"time": 1519374390.46425, "damage": 8056}, {"time": 1519374417.08425, "damage": 5937}, {"time": 1519374431.60425, "damage": 6236}, {"time": 1519374437.19425, "damage": 6776}, {"time": 1519374446.87425, "damage": 8160}, {"time": 1519374454.13425, "damage": 6491}, {"time": 1519374461.39425, "damage": 6240}, {"time": 1519374514.63425, "damage": 5946}, {"time": 1519374529.90425, "damage": 6825}, {"time": 1519374537.16425, "damage": 6008}, {"time": 1519374544.42425, "damage": 6355}, {"time": 1519374554.10425, "damage": 7525}], "critical_hits": [], "direct_hits": [1519374292.91425, 1519374321.95425, 1519374361.42425, 1519374385.62425, 1519374390.46425, 1519374446.87425, 1519374554.10425], "critical_direct_hits": []}, "IronJawsCast": {"casts": [1519374307.43425, 1519374336.47425, 1519374363.84425, 1519374392.88425, 1519374421.92425, 1519374449.29425, 1519374478.33425, 1519374507.37425, 1519374534.74425, 1519374563.78425], "execute_time": [{"time": 1519374307.43425, "delta": 2.42}, {"time": 1519374336.47425, "delta": 2.42}, {"time": 1519374363.84425, "delta": 2.42}, {"time": 1519374392.88425, "delta": 2.42}, {"time": 1519374421.92425, "delta": 2.42}, {"time": 1519374449.29425, "delta": 2.42}, {"time": 1519374478.33425, "delta": 2.42}, {"time": 1519374507.37425, "delta": 2.42}, {"time": 1519374534.74425, "delta": 2.42}, {"time": 1519374563.78425, "delta": 2.42}], "damage": [{"time": 1519374307.43425, "damage": 5354}, {"time": 1519374336.47425, "damage": 5497}, {"time": 1519374363.84425, "damage": 5651}, {"time": 1519374392.88425, "damage": 5280}, {"time": 1519374421.92425, "damage": 6830}, {"time": 1519374449.29425, "damage": 9112}, {"time": 1519374478.33425, "damage": 5532}, {"time": 1519374507.37425, "damage": 10885}, {"time": 1519374534.74425, "damage": 8751}, {"time": 1519374563.78425, "damage": 5152}], "critical_hits": [1519374449.29425, 1519374507.37425, 1519374534.74425], "direct_hits": [1519374421.92425, 1519374507.37425], "critical_direct_hits": [1519374507.37425]}}}].reverse();

}
